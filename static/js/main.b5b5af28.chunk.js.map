{"version":3,"sources":["images/logo.svg","components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/CardDeletePopup.js","components/Footer.js","components/ImagePopup.js","components/Spinner.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","cardData","onCardClick","onCardClickLike","onCardClickDelete","name","link","likes","owner","currentUser","useContext","isOwn","_id","isLiked","some","i","type","onClick","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardLike","onCardDelete","avatar","about","map","card","PopupWithForm","title","buttonText","isOpen","onClose","onSubmit","children","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","id","placeholder","minLength","maxLength","required","autoComplete","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","console","log","current","ref","AddPlacePopup","onCardAdd","setLink","CardDeletePopup","selectedCardDelete","Footer","ImagePopup","Spiner","config","this","_baseUrl","url","_headers","headers","res","ok","json","Promise","reject","status","all","getUserInfo","getCardsFromServer","fetch","method","then","_getStateServer","inputValues","body","JSON","stringify","cardId","data","authorization","App","isSpinner","setSpinner","isEditProfilePopupOpen","setEditProfileOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","setSelectedCardDelete","isPhotoPopupOpen","setPhotoPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","api","getAppInfo","infoFromServer","userData","cardsData","catch","error","finally","handleEscClose","evt","key","document","removeEventListener","handleOverlayClose","classList","contains","addEventListener","Provider","dislikeCard","newCard","newCards","c","likeCard","patchUserInfo","patchAvatarInfo","postCardInfo","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b5b5af28.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from './../images/logo.svg'\r\n\r\nexport default function Header() {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img src={logo} alt=\"Место - Россия\" className=\"logo\" />\r\n\t\t</header>\r\n\t);\r\n}","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext';\r\n\r\nexport default function Card({cardData, onCardClick, onCardClickLike, onCardClickDelete}) {\r\n\tconst {name, link, likes, owner} = cardData;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = owner._id === currentUser._id;\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = likes.some(i => i._id === currentUser._id);\r\n\r\n\tfunction handleClick() {\r\n    onCardClick(cardData);\r\n  }\r\n\r\n  function handleClickLike() {\r\n    onCardClickLike(cardData);\r\n  }\r\n\r\n  function handleClickDelete() {\r\n    onCardClickDelete(cardData);\r\n  }\r\n\r\n\treturn (\r\n\t\t<li className=\"element\">\r\n  \t  <button type=\"button\" className={isOwn? \"element__button-delete\" : \"element__button-delete element__button-delete_hidden\"} onClick={handleClickDelete} />\r\n    \t<img src={link} alt={name} className=\"element__photo\" onClick={handleClick} />\r\n  \t  <div className=\"element__info\">\r\n  \t  <h2 className=\"element__place\">{name}</h2>\r\n  \t    <div className=\"element__like\">\r\n  \t      <button type=\"button\" className={isLiked? \"element__button-like element__button-like_active\" : \"element__button-like\"} onClick={handleClickLike} />\r\n  \t      <span className=\"element__liked\">{likes.length}</span>\r\n  \t    </div>\r\n  \t  </div>\r\n  \t</li>\r\n\t);\r\n}","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext';\r\n\r\nexport default function Main({onEditProfile, onAddPlace, onEditAvatar, cards, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar-image\" />\r\n          <button type=\"button\" className=\"profile__button-change-avatar\" onClick={onEditAvatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__wrapper\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__button-edit\" onClick={onEditProfile} />\r\n          </div>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__button-add\" onClick={onAddPlace} />\r\n      </section>\r\n      <ul className=\"elements\">\r\n        {\r\n          cards.map((card) => \r\n          (<Card cardData={card} key={card._id} onCardClick={onCardClick} onCardClickDelete={onCardDelete} onCardClickLike={onCardLike} />)\r\n        )}\r\n      </ul>\r\n    </main>\r\n\t);\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm({name, title, buttonText, isOpen, onClose, onSubmit, children}) {\r\n\r\n\treturn (\r\n\t\t<div className={isOpen? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`}>\r\n\t\t\t<div className=\"popup__container\">\r\n\t      <form name={name} action=\"#\" onSubmit={onSubmit} className=\"popup__form\">\r\n\t        <button type=\"button\" className=\"popup__button-close\" onClick={onClose}/>\r\n\t        <h2 className=\"popup__title\">{title}</h2>\r\n\t        {children}\r\n\t        <button type=\"submit\" className=\"popup__form-button\">{buttonText}</button>\r\n\t      </form>\r\n\t    </div>\r\n\t  </div>\r\n\t);\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleDescriptionChange = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateUser(name, description);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n\t  <PopupWithForm name='editProfileForm' title='Редактировать профиль' buttonText='Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n\t\t  <input onChange={handleNameChange} value={name || ''} name=\"name\" type=\"text\" id=\"name-input\" className=\"popup__input popup__input_field_name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required autoComplete=\"off\" />\r\n\t\t  <span id=\"name-input-error\" className=\"name-input-error\" />\r\n\t\t  <input onChange={handleDescriptionChange} value={description || ''} name=\"job\" type=\"text\" id=\"profession-input\" className=\"popup__input popup__input_field_profession\" placeholder=\"Занятие\" minLength=\"2\" maxLength=\"200\" required autoComplete=\"off\" />\r\n\t\t  <span id=\"profession-input-error\" className=\"profession-input-error\" />\r\n\t\t</PopupWithForm>\r\n\t)\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = React.useRef();\r\n  const handleSubmit = (e) => {\r\n    console.log(avatarRef.current.value)\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n\t  <PopupWithForm name='editAvatarForm' title='Обновить автар' buttonText='Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input ref={avatarRef} name=\"avatar\" type=\"URL\" id=\"url-input_avatar\" className=\"popup__input popup__input_type_url\" placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" />\r\n      <span id=\"url-input_avatar-error\" className=\"url-input-error\" />\r\n    </PopupWithForm>\r\n\t)\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function AddPlacePopup({isOpen, onClose, onCardAdd}) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onCardAdd({ name, link })\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm name='addElementForm' title='Новое место' buttonText='Создать' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input onChange={handleNameChange} name=\"name\" type=\"text\" id=\"place-input\" className=\"popup__input popup__input_type_place\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required autoComplete=\"off\" />\r\n      <span id=\"place-input-error\" className=\"place-input-error\" />\r\n      <input onChange={handleLinkChange} name=\"link\" type=\"URL\" id=\"url-input\" className=\"popup__input popup__input_type_url\" placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" />\r\n      <span id=\"url-input-error\" className=\"url-input-error\" />\r\n    </PopupWithForm>\r\n    )\r\n}","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nexport default function CardDeletePopup({isOpen, onClose, selectedCardDelete, onCardDelete}) {\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onCardDelete(selectedCardDelete);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n    \tname='delete-card'\r\n    \ttitle='Вы уверены?'\r\n    \tbuttonText='Да'\r\n    \tisOpen={isOpen}\r\n    \tonClose={onClose} \r\n    \tonSubmit={handleSubmit}/>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; 2020 Дмитрий Прокопьев\r\n      </p>\r\n    </footer>\r\n\t);\r\n}","import React from 'react';\r\n\r\nexport default function ImagePopup({isOpen, card, onClose}) {\r\n\r\n\treturn (\r\n\t\t<div className={isOpen? \"popup popup_type_photo-fullscreen popup_opened\" : \"popup popup_type_photo-fullscreen\"}>\r\n\t    <div className=\"popup__container-fullscreen\">\r\n\t      <button type=\"button\" className=\"popup__button-close\" onClick={onClose} />\r\n\t      <img src={card.link} alt={card.name} className=\"popup__photo-fullscreen\" />\r\n\t      <h3 className=\"popup__photo-fullscreen-title\">{card.name}</h3>\r\n\t    </div>\r\n\t  </div>\r\n\t);\r\n}","import React from 'react';\r\n\r\nexport default function Spiner({isOpen}) {\r\n\treturn (\r\n\t\t<div className={isOpen? `spinner` : `spinner spinner_hidden`}>\r\n\t\t\t<div></div>\r\n\t\t</div>\r\n\t)\r\n}","class Api {\r\n\tconstructor(config) {\r\n\t\tthis._baseUrl = config.url;\r\n\t\tthis._headers = config.headers;\r\n\t}\r\n\r\n\t_getStateServer(res) {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json()\r\n\t\t}\r\n\t\treturn Promise.reject(`Ошибка: ${res.status}`);\r\n\t};\r\n\r\n\tgetAppInfo() {\r\n\t\treturn Promise.all([\r\n\t\tthis.getUserInfo(),\r\n\t\tthis.getCardsFromServer(),\r\n\t\t]);\r\n\t}\r\n\r\n\tgetCardsFromServer() {\r\n\t\treturn fetch(`${this._baseUrl}/cards`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t\t};\r\n\r\n\tpostCardInfo(inputValues) {\r\n\t\treturn fetch(`${this._baseUrl}/cards`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({name: inputValues.name, link: inputValues.link}),\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n\r\n\tdeleteCard(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'DELETE',\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n\r\n\tgetUserInfo() {\r\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'GET'\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n\r\n\tpatchUserInfo(name, description) {\r\n\t\treturn fetch(`${this._baseUrl}/users/me`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\tbody: JSON.stringify({name: name, about: description}),\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n\r\n\tpatchAvatarInfo(data) {\r\n\t\treturn fetch(`${this._baseUrl}/users/me/avatar`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n\r\n\tlikeCard(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'PUT',\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n\r\n\tdislikeCard(cardId) {\r\n\t\treturn fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n\t\t\theaders: this._headers,\r\n\t\t\tmethod: 'DELETE',\r\n\t\t})\r\n\t\t.then((res) => this._getStateServer(res));\r\n\t};\r\n}\r\n\r\nexport default new Api({\r\n\turl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n\theaders: {\r\n\t\tauthorization: '2898ad1c-4456-4857-a6ce-22f1f08bf45a',\r\n\t\t'Content-Type': 'application/json'\r\n\t}\r\n});","import React from 'react';\nimport '../index.css';\n\nimport Header from './Header';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport CardDeletePopup from './CardDeletePopup';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport Spinner from './Spinner';\n\nimport api from '../utils/api';\n\nimport {CurrentUserContext} from '../context/CurrentUserContext';\n\nfunction App() {\n  const [isSpinner, setSpinner] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfileOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\n  const [selectedCardDelete, setSelectedCardDelete] = React.useState({});\n  const [isPhotoPopupOpen, setPhotoPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const handleEditAvatarClick = () => setEditAvatarPopupOpen(true);\n  const handleEditProfileClick = () => setEditProfileOpen(true);\n  const handleAddPlaceClick = () => setAddPlacePopupOpen(true);\n  const handleDeleteCardClick = (card) => {setSelectedCardDelete(card); setDeleteCardPopupOpen(true)};\n  const handleCardClick = (card) => {setSelectedCard(card); setPhotoPopupOpen(true)};\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfileOpen(false);\n    setAddPlacePopupOpen(false);\n    setPhotoPopupOpen(false);\n    setDeleteCardPopupOpen(false);\n  }\n\n  //First loading\n  React.useEffect(() => {\n    setSpinner(true);\n    api.getAppInfo()\n    .then((infoFromServer) => {\n      const [userData, cardsData] = infoFromServer;\n      setCurrentUser(userData);\n      setCards(cardsData);\n    })\n    .catch((error) => console.log(error))\n    .finally(() => setSpinner(false));\n  }, []);\n\n//New user data\n  function handleUpdateUser(name, description) {\n    setSpinner(true);\n    api.patchUserInfo(name, description)\n    .then((userData) => {\n      setCurrentUser(userData);\n      closeAllPopups();\n    })\n    .catch((error) => console.log(error))\n    .finally(() => setSpinner(false));\n  }\n\n//New Avatar\n  function handleUpdateAvatar(avatar) {\n    setSpinner(true);\n    api.patchAvatarInfo(avatar)\n    .then((userData) => {\n      setCurrentUser(userData);\n      closeAllPopups();\n    })\n    .catch((error) => console.log(error))\n    .finally(() => setSpinner(false));\n  }\n\n//Add card\n  function handleCardAdd(card) {\n    setSpinner(true);\n    api.postCardInfo(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups()\n    })\n    .catch((error) => console.log(error))\n    .finally(() => setSpinner(false));\n  }\n\n//Delete\n  function handleCardDelete(card) {\n    setSpinner(true);\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((i) => i._id !== card._id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch((error) => console.log(error))\n    .finally(() => setSpinner(false));\n  }\n\n//Like\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if(!isLiked) {\n      setSpinner(true);\n      api.likeCard(card._id)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setSpinner(false));\n    } else {\n      setSpinner(true);\n      api.dislikeCard(card._id)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((error) => console.log(error))\n      .finally(() => setSpinner(false));\n    }\n  }\n\n//Close popup\n  const handleEscClose = (evt) => {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n      document.removeEventListener(\"keydown\", handleEscClose);\n      document.removeEventListener(\"mousedown\", handleEscClose);\n    }\n  };\n\n  const handleOverlayClose = (evt) =>{\n    if (evt.target.classList.contains('popup')) {\n      closeAllPopups();\n      document.removeEventListener(\"mousedown\", handleEscClose);\n      document.removeEventListener(\"keydown\", handleEscClose);\n    }\n  };\n\n  React.useEffect(() => {\n    if(isEditProfilePopupOpen === true ||\n      isAddPlacePopupOpen === true ||\n      isEditAvatarPopupOpen === true ||\n      isDeleteCardPopupOpen === true ||\n      selectedCardDelete === true ||\n      isPhotoPopupOpen === true) {\n      document.addEventListener(\"keydown\", handleEscClose);\n      document.addEventListener(\"mousedown\", handleOverlayClose);\n    }\n  },\n  [isEditProfilePopupOpen,\n    isAddPlacePopupOpen,\n    isEditAvatarPopupOpen,\n    isDeleteCardPopupOpen,\n    selectedCardDelete,\n    isPhotoPopupOpen]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleDeleteCardClick} />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups} \n          onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups} \n          onUpdateAvatar={handleUpdateAvatar} />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onCardAdd={handleCardAdd} />\n        <CardDeletePopup\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          selectedCardDelete={selectedCardDelete}\n          onCardDelete={handleCardDelete} />\n        <ImagePopup \n          isOpen={isPhotoPopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups} />\n        <Spinner isOpen={isSpinner} />\n      </>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}